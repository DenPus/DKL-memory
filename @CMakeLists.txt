cmake_minimum_required(VERSION 2.8.9)
project(@name LANGUAGES @language)

set(CMAKE_C_STANDARD 11)

file(GLOB src_ls "src/*.c")
file(GLOB include_ls "include/*.h" "include/@name/*.h")

install(DIRECTORY include/@name/ DESTINATION include/@name)

add_library(@name ${include_ls} ${src_ls})

link_libraries(dkl-memory)
include_directories(header include include/@name)

set_target_properties(
        @name PROPERTIES
        PUBLIC_HEADER "${incude_ls}"
)

install(TARGETS @name
        PUBLIC_HEADER DESTINATION include
        LIBRARY DESTINATION lib
        ARCHIVE DESTINATION lib
        )

link_libraries(@name)

# examples

add_subdirectory(examples)
add_subdirectory(tests)
